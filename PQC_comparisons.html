<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC in Hyperledger Fabric: A Strategic Analysis</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: Corporate Future (Deep Blue, Teal, Slate) -->
    <!-- Application Structure Plan: 
         1. Hero Section: High-level problem statement (Quantum Threat).
         2. The Threat Landscape: Temporal visualization of the threat horizon.
         3. Algorithm Analysis: Comparative radar and bar charts for NIST candidates (Dilithium, Falcon, SPHINCS+).
         4. Performance Impact: Visualizing the cost of security (Latency, Key Sizes) and the 'Defensive Downgrade'.
         5. Architecture Strategy: Interactive block diagram representing Hyperledger Fabric components + IPFS offloading.
         6. Literature Review: Searchable/Filterable table of the source papers.
         
         Why this structure? It follows the logical flow of a technical proposal: Problem -> Options -> Trade-offs -> Solution -> Evidence. 
    -->
    <!-- Visualization & Content Choices:
         1. Threat Timeline -> Goal: Change -> Line Chart -> Shows qubit progression vs RSA safety threshold.
         2. Algorithm Radar -> Goal: Compare -> Radar Chart -> Perfect for multi-metric comparison (Key Size, Sig Size, Speed, Implementation).
         3. Size/Latency Bars -> Goal: Compare -> Bar Chart -> Stark contrast between ECC and PQC sizes.
         4. Fabric Architecture -> Goal: Organize -> Interactive HTML Grid -> clickable blocks reveal implementation details (MSP, Orderer, IPFS).
         5. Reference Table -> Goal: Organize -> HTML Table + JS Filter -> Easy access to source material.
         
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Slate 50 */
            color: #1e293b; /* Slate 800 */
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom Scrollbar for the table container */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .nav-active {
            border-bottom: 2px solid #0f766e; /* Teal 700 */
            color: #0f766e;
        }

        .interactive-block {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .interactive-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #0d9488; /* Teal 600 */
        }
        .block-selected {
            background-color: #f0fdfa; /* Teal 50 */
            border-color: #0f766e; /* Teal 700 */
            border-width: 2px;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-800 tracking-tight">Q<span class="text-teal-600">Chain</span></span>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#threat" class="text-slate-500 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors">The Threat</a>
                    <a href="#algorithms" class="text-slate-500 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors">Algorithms</a>
                    <a href="#performance" class="text-slate-500 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors">Performance</a>
                    <a href="#architecture" class="text-slate-500 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors">Implementation</a>
                    <a href="#references" class="text-slate-500 hover:text-slate-900 px-3 py-2 text-sm font-medium transition-colors">References</a>
                </div>
                <!-- Mobile menu button (visual only for this demo) -->
                <div class="flex items-center md:hidden">
                    <button class="text-slate-500 hover:text-slate-900 focus:outline-none">
                        <span class="text-2xl">‚ò∞</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-slate-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div>
                <h1 class="text-4xl md:text-5xl font-bold leading-tight mb-4">
                    Securing the Ledger Against <br> <span class="text-teal-400">Quantum Supremacy</span>
                </h1>
                <p class="text-lg text-slate-300 mb-8 max-w-lg">
                    A strategic analysis of implementing Post-Quantum Cryptography (PQC) in Hyperledger Fabric. Exploring the shift from ECDSA/RSA to Lattice-based signatures and the architectural adaptations required for survival in the post-2035 era.
                </p>
                <div class="flex space-x-4">
                    <a href="#architecture" class="bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg transition shadow-lg">
                        View Architecture
                    </a>
                    <a href="#algorithms" class="bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-6 rounded-lg transition">
                        Compare Algos
                    </a>
                </div>
            </div>
            <div class="bg-slate-800 p-6 rounded-xl border border-slate-700 shadow-2xl">
                <h3 class="text-teal-400 font-semibold mb-2 uppercase tracking-wide text-xs">Executive Summary</h3>
                <ul class="space-y-3 text-slate-300 text-sm">
                    <li class="flex items-start">
                        <span class="mr-2 text-teal-400">‚ö†</span>
                        <span><strong>The Risk:</strong> Shor's algorithm threatens ECDSA signatures used in Fabric MSPs. 2035 is the estimated deadline for RSA-2048 viability.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-2 text-teal-400">üõ°</span>
                        <span><strong>The Solution:</strong> Migration to NIST finalists: <em>CRYSTALS-Dilithium</em> (Balanced) or <em>Falcon</em> (Fast Verify).</span>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-2 text-teal-400">üìâ</span>
                        <span><strong>The Cost:</strong> PQC signatures are ~100x larger. Throughput (TPS) may drop by 50-70%.</span>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-2 text-teal-400">üèó</span>
                        <span><strong>The Fix:</strong> Hybrid architectures using IPFS for off-chain storage of heavy keys/signatures.</span>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">

        <!-- Section 1: The Quantum Threat -->
        <section id="threat" class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-12 text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">The Quantum Threat Horizon</h2>
                    <p class="text-slate-600">
                        Blockchain immutability is a double-edged sword. Encrypted data captured today can be decrypted tomorrow ("Harvest Now, Decrypt Later"). While hashing algorithms (SHA-256) remain relatively robust against Grover's algorithm, the asymmetric cryptography (ECDSA, RSA) foundation of Hyperledger's identity management is critically vulnerable to Shor's algorithm.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                    <div class="bg-slate-50 p-6 rounded-xl shadow-sm border border-slate-200">
                        <div class="chart-container">
                            <canvas id="timelineChart"></canvas>
                        </div>
                        <p class="text-xs text-center text-slate-400 mt-2">Projection based on logical qubit development rates (Kearney et al., 2021)</p>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-slate-800 mb-4">Vulnerability Matrix</h3>
                        <div class="grid grid-cols-1 gap-4">
                            <!-- Card 1 -->
                            <div class="bg-red-50 border-l-4 border-red-500 p-4">
                                <div class="flex justify-between">
                                    <h4 class="font-bold text-red-700">ECDSA / RSA</h4>
                                    <span class="text-xs font-bold bg-red-200 text-red-800 px-2 py-1 rounded">CRITICAL</span>
                                </div>
                                <p class="text-sm text-red-600 mt-1">Used for Digital Signatures & TLS. Completely broken by Shor's algorithm. Allows forgery of admin identities and transaction history.</p>
                            </div>
                            <!-- Card 2 -->
                            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4">
                                <div class="flex justify-between">
                                    <h4 class="font-bold text-yellow-700">SHA-256 / SHA-3</h4>
                                    <span class="text-xs font-bold bg-yellow-200 text-yellow-800 px-2 py-1 rounded">MODERATE</span>
                                </div>
                                <p class="text-sm text-yellow-600 mt-1">Used for linking blocks. Weakened by Grover's algorithm (quadratic speedup), but key length doubling (SHA-384/512) mitigates risk.</p>
                            </div>
                            <!-- Card 3 -->
                            <div class="bg-green-50 border-l-4 border-green-500 p-4">
                                <div class="flex justify-between">
                                    <h4 class="font-bold text-green-700">Lattice-Based (PQC)</h4>
                                    <span class="text-xs font-bold bg-green-200 text-green-800 px-2 py-1 rounded">SECURE</span>
                                </div>
                                <p class="text-sm text-green-600 mt-1">NIST standardized replacements (Dilithium, Falcon). Resistant to known quantum attack vectors, but introduces performance overhead.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Algorithm Analysis -->
        <section id="algorithms" class="py-16 bg-slate-50 border-t border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-12">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">The Candidates: NIST PQC Standards</h2>
                    <p class="text-slate-600 max-w-3xl">
                        Not all PQC algorithms are suitable for blockchain. Hyperledger Fabric requires high throughput (fast verification) and manageable storage. We compare the three primary candidates: <strong>CRYSTALS-Dilithium</strong>, <strong>Falcon</strong>, and <strong>SPHINCS+</strong> based on recent performance benchmarks.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Controls / Info -->
                    <div class="lg:col-span-1 space-y-4">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 h-full">
                            <h3 class="font-bold text-lg mb-4 text-slate-800">Algorithm Details</h3>
                            <div class="space-y-4">
                                <button onclick="updateAlgoInfo('dilithium')" class="w-full text-left p-4 rounded-lg border border-slate-200 hover:bg-teal-50 hover:border-teal-300 transition focus:outline-none focus:ring-2 focus:ring-teal-500 group">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-slate-700 group-hover:text-teal-700">CRYSTALS-Dilithium</span>
                                        <span class="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded">Lattice</span>
                                    </div>
                                    <p class="text-xs text-slate-500 mt-1">The "All-rounder". Balanced size and speed. Recommended for general use.</p>
                                </button>
                                
                                <button onclick="updateAlgoInfo('falcon')" class="w-full text-left p-4 rounded-lg border border-slate-200 hover:bg-teal-50 hover:border-teal-300 transition focus:outline-none focus:ring-2 focus:ring-teal-500 group">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-slate-700 group-hover:text-teal-700">Falcon</span>
                                        <span class="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded">Lattice</span>
                                    </div>
                                    <p class="text-xs text-slate-500 mt-1">Fastest verification, smallest PQC keys. Complex implementation (floating point).</p>
                                </button>
                                
                                <button onclick="updateAlgoInfo('sphincs')" class="w-full text-left p-4 rounded-lg border border-slate-200 hover:bg-teal-50 hover:border-teal-300 transition focus:outline-none focus:ring-2 focus:ring-teal-500 group">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-slate-700 group-hover:text-teal-700">SPHINCS+</span>
                                        <span class="text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded">Hash-based</span>
                                    </div>
                                    <p class="text-xs text-slate-500 mt-1">Stateless & conservative security. Very large signatures, slow performance.</p>
                                </button>
                            </div>
                            
                            <!-- Dynamic Info Box -->
                            <div id="algo-verdict" class="mt-6 p-4 bg-slate-100 rounded-lg border border-slate-200 text-sm">
                                <strong class="block text-slate-800 mb-1">Recommendation:</strong>
                                <span class="text-slate-600">Select an algorithm above to see the verdict for Hyperledger Fabric.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Radar Chart -->
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                        <div class="chart-container">
                            <canvas id="radarChart"></canvas>
                        </div>
                        <div class="mt-4 text-center">
                            <span class="inline-block w-3 h-3 bg-teal-500 rounded-full mr-1"></span><span class="text-xs text-slate-500 mr-4">Dilithium</span>
                            <span class="inline-block w-3 h-3 bg-purple-500 rounded-full mr-1"></span><span class="text-xs text-slate-500 mr-4">Falcon</span>
                            <span class="inline-block w-3 h-3 bg-orange-500 rounded-full mr-1"></span><span class="text-xs text-slate-500">SPHINCS+</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Performance Impact -->
        <section id="performance" class="py-16 bg-white border-t border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <div>
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">The Cost of Security</h2>
                        <p class="text-slate-600 mb-6">
                            PQC isn't a free upgrade. It is a "defensive downgrade" in terms of performance. The primary bottlenecks are <strong>Key Size</strong> (storage bloat) and <strong>Verification Time</strong> (latency).
                        </p>
                        
                        <div class="bg-orange-50 p-6 rounded-xl border border-orange-100 mb-6">
                            <h4 class="font-bold text-orange-800 mb-2">Impact on Throughput (TPS)</h4>
                            <p class="text-sm text-orange-700 mb-4">
                                Research indicates a potential <strong>50-70% drop</strong> in transaction throughput when moving from ECDSA to hybrid PQC schemes due to propagation delays and verification overhead.
                            </p>
                            <div class="w-full bg-white rounded-full h-4 mb-1">
                                <div class="bg-slate-400 h-4 rounded-full" style="width: 100%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500 mb-2">
                                <span>Classic Fabric (ECDSA) ~3000 TPS</span>
                            </div>
                            
                            <div class="w-full bg-white rounded-full h-4 mb-1">
                                <div class="bg-teal-500 h-4 rounded-full" style="width: 40%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500">
                                <span>Post-Quantum Fabric ~1200 TPS</span>
                            </div>
                        </div>

                        <p class="text-sm text-slate-500 italic">
                            * Note: Throughput varies heavily based on block size, endorsement policy, and network latency. Data approximated from Campbell (2025).
                        </p>
                    </div>

                    <div class="bg-slate-50 p-6 rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 text-center">Data Bloat: Signature Size Comparison</h3>
                        <div class="chart-container">
                            <canvas id="barChart"></canvas>
                        </div>
                        <p class="text-xs text-center text-slate-400 mt-2">
                            Logarithmic Scale (Bytes). PQC signatures are orders of magnitude larger than ECDSA.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Implementation Architecture -->
        <section id="architecture" class="py-16 bg-slate-50 border-t border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-12 text-center">
                    <h2 class="text-3xl font-bold text-slate-900 mb-4">Proposed Hybrid Architecture</h2>
                    <p class="text-slate-600 max-w-2xl mx-auto">
                        To mitigate the storage overhead of PQC in Hyperledger Fabric, research suggests an <strong>Off-Chain Storage Pattern</strong> using IPFS. The blockchain stores only the hash, while the heavy PQC signatures and data reside on IPFS.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Interactive Diagram -->
                    <div class="lg:col-span-2 bg-white p-8 rounded-xl shadow-lg border border-slate-200 relative overflow-hidden">
                        <div class="absolute top-0 left-0 w-full h-1 bg-teal-500"></div>
                        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-6">System Topology</h3>
                        
                        <!-- Grid Layout for Diagram -->
                        <div class="grid grid-cols-3 gap-4 auto-rows-fr">
                            <!-- Client -->
                            <div onclick="showArchDetail('client')" class="interactive-block col-span-1 bg-slate-100 border border-slate-300 rounded-lg p-4 text-center flex flex-col items-center justify-center h-32">
                                <span class="text-2xl mb-2">üíª</span>
                                <span class="font-bold text-slate-700">Client App</span>
                                <span class="text-xs text-slate-500">Signs Tx (PQC)</span>
                            </div>

                            <!-- Connection Line -->
                            <div class="col-span-1 flex items-center justify-center relative">
                                <div class="h-1 w-full bg-slate-300"></div>
                                <div class="absolute -top-3 text-xs text-slate-400 font-mono">gRPC</div>
                                <div class="absolute right-0 -top-2 w-0 h-0 border-t-4 border-t-transparent border-l-8 border-l-slate-300 border-b-4 border-b-transparent"></div>
                            </div>

                            <!-- Peer Node -->
                            <div onclick="showArchDetail('peer')" class="interactive-block col-span-1 bg-teal-50 border border-teal-200 rounded-lg p-4 text-center flex flex-col items-center justify-center h-32 relative">
                                <span class="text-2xl mb-2">üè¢</span>
                                <span class="font-bold text-teal-800">Fabric Peer</span>
                                <span class="text-xs text-teal-600">Endorser / Committer</span>
                                <span class="absolute top-2 right-2 text-xs bg-teal-200 text-teal-800 px-1 rounded">PQC</span>
                            </div>

                            <!-- Orderer (Below Peer) -->
                            <div class="col-start-3 row-start-2 flex justify-center h-16 relative">
                                <div class="w-1 h-full bg-slate-300"></div>
                            </div>
                            
                            <!-- IPFS (Left of Peer) -->
                            <div class="col-start-2 row-start-1 flex items-center justify-center">
                                <!-- Connection handled above -->
                            </div>

                            <!-- IPFS Node -->
                            <div onclick="showArchDetail('ipfs')" class="interactive-block col-start-2 row-start-2 bg-purple-50 border border-purple-200 rounded-lg p-4 text-center flex flex-col items-center justify-center h-32">
                                <span class="text-2xl mb-2">üì¶</span>
                                <span class="font-bold text-purple-800">IPFS Node</span>
                                <span class="text-xs text-purple-600">Off-Chain Storage</span>
                            </div>
                            
                            <!-- Connector Peer to IPFS -->
                            <div class="col-start-3 row-start-2 flex items-center h-32 -ml-4 relative z-10" style="width: 1px;">
                                <!-- Conceptual line connection handled by layout proximity -->
                            </div>

                            <!-- Orderer Node -->
                            <div onclick="showArchDetail('orderer')" class="interactive-block col-start-3 row-start-3 bg-slate-100 border border-slate-300 rounded-lg p-4 text-center flex flex-col items-center justify-center h-32">
                                <span class="text-2xl mb-2">‚öñÔ∏è</span>
                                <span class="font-bold text-slate-700">Orderer</span>
                                <span class="text-xs text-slate-500">Consensus (BFT)</span>
                            </div>
                            
                            <!-- CA Node -->
                            <div onclick="showArchDetail('msp')" class="interactive-block col-start-1 row-start-3 bg-blue-50 border border-blue-200 rounded-lg p-4 text-center flex flex-col items-center justify-center h-32">
                                <span class="text-2xl mb-2">üîë</span>
                                <span class="font-bold text-blue-800">Fabric CA / MSP</span>
                                <span class="text-xs text-blue-600">Identity (X.509)</span>
                            </div>
                        </div>
                    </div>

                    <!-- Detail Panel -->
                    <div class="lg:col-span-1">
                        <div id="arch-detail" class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-teal-500 h-full">
                            <h3 class="text-xl font-bold text-slate-800 mb-2" id="detail-title">Interactive Diagram</h3>
                            <p class="text-sm text-slate-600 mb-4" id="detail-text">
                                Click on the components in the diagram to explore how PQC integration changes the standard Hyperledger Fabric flow.
                            </p>
                            <div class="bg-slate-100 p-4 rounded text-xs text-slate-500 font-mono">
                                Status: Waiting for user interaction...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: References -->
        <section id="references" class="py-16 bg-white border-t border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-2xl font-bold text-slate-900 mb-6">Literature Review Database</h2>
                
                <div class="mb-4">
                    <input type="text" id="searchInput" onkeyup="filterTable()" placeholder="Search papers by title, author, or keyword..." class="w-full p-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm shadow-sm">
                </div>

                <div class="overflow-x-auto custom-scrollbar bg-white rounded-lg shadow border border-slate-200">
                    <table class="min-w-full divide-y divide-slate-200" id="refTable">
                        <thead class="bg-slate-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Paper Title</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Year</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Type</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Key Insight</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Link</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-slate-200 text-sm">
                            <!-- Populated via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-8 border-t border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2026 Team QChain</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Storage ---
        const references = [
            {
                title: "Vulnerability of Blockchain Technologies to Quantum Attacks",
                year: "2021",
                type: "Research Article",
                insight: "Estimates RSA-2048 breaking by 2035. Highlights ECDSA vulnerability.",
                link: "uploaded:2105.01815v1.pdf"
            },
            {
                title: "A Performance Comparison of Post-Quantum Algorithms in Blockchain",
                year: "2022",
                type: "Peer Reviewed",
                insight: "Dilithium/Falcon offer best balance for blockchain compared to Rainbow.",
                link: "uploaded:38508-a-performance-comparison-of-post-quantum-algorithms-in-blockchain.pdf"
            },
            {
                title: "Hybrid Post-Quantum Signatures for Bitcoin and Ethereum",
                year: "2025",
                type: "Research Article",
                insight: "Defensive downgrade costs: 50-70% throughput loss anticipated.",
                link: "uploaded:154321-hybrid-post-quantum-signatures-for-bitcoin-and-ethereum-a-protocol-level-integration-strategy.pdf"
            },
            {
                title: "Performance... in Resource-Constrained Environments",
                year: "2023",
                type: "Review",
                insight: "Falcon is best for verify speed; Dilithium best general purpose.",
                link: "uploaded:algorithms-16-00518-with-cover.pdf"
            },
            {
                title: "A Blockchain System Based on Quantum-Resistant Digital Signature",
                year: "2021",
                type: "Research Article",
                insight: "Proposes improved PBFT and lattice schemes for security.",
                link: "uploaded:A_Blockchain_System_Based_on_Quantum-Resistant_Dig.pdf"
            },
            {
                title: "Fortifying the Blockchain... Post-Quantum Consensus Solutions",
                year: "2023",
                type: "Systematic Review",
                insight: "Consensus layer (voting) must be fortified, not just transaction signing.",
                link: "uploaded:Fortifying_the_Blockchain_A_Systematic_Review_and_Classification_of_Post-Quantum_Consensus_Solutions_for_Enhanced_Security_and_Resilience.pdf"
            },
            {
                title: "A Quantum-Resistant Blockchain System: A Comparative Analysis",
                year: "2023",
                type: "Comparative Analysis",
                insight: "Integration with IPFS to handle large PQC keys/signatures.",
                link: "uploaded:mathematics-11-03947-v2.pdf"
            }
        ];

        // --- Chart Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. Timeline Chart (Line)
            const ctxTimeline = document.getElementById('timelineChart').getContext('2d');
            new Chart(ctxTimeline, {
                type: 'line',
                data: {
                    labels: ['2020', '2023', '2025', '2028', '2030', '2035', '2040'],
                    datasets: [{
                        label: 'Estimated Logical Qubits',
                        data: [10, 50, 100, 500, 1000, 2500, 5000],
                        borderColor: '#0d9488', // Teal 600
                        backgroundColor: 'rgba(13, 148, 136, 0.1)',
                        tension: 0.4,
                        fill: true,
                        yAxisID: 'y'
                    }, {
                        label: 'RSA-2048 Security Threshold',
                        data: [2300, 2300, 2300, 2300, 2300, 2300, 2300], // Constant threshold line
                        borderColor: '#ef4444', // Red 500
                        borderDash: [5, 5],
                        pointRadius: 0,
                        borderWidth: 2,
                        fill: false,
                        yAxisID: 'y'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom' },
                        title: { display: true, text: 'The Race to Quantum Advantage' },
                        tooltip: {
                            callbacks: {
                                title: (items) => {
                                    // Required label wrapping logic (simple here as years are short)
                                    return items[0].label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            title: { display: true, text: 'Logical Qubits' },
                            type: 'logarithmic'
                        }
                    }
                }
            });

            // 2. Radar Chart (Algorithm Comparison)
            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: [
                        ['Verification', 'Speed'], 
                        ['Signing', 'Speed'], 
                        ['Public Key', 'Size (Small)'], 
                        ['Signature', 'Size (Small)'], 
                        ['Implementation', 'Ease']
                    ],
                    datasets: [{
                        label: 'Dilithium (Lattice)',
                        data: [80, 85, 60, 60, 90], // Balanced
                        backgroundColor: 'rgba(20, 184, 166, 0.2)', // Teal
                        borderColor: '#14b8a6',
                        pointBackgroundColor: '#14b8a6'
                    }, {
                        label: 'Falcon (Lattice)',
                        data: [95, 70, 80, 80, 40], // Fast verify, small keys, hard implementation
                        backgroundColor: 'rgba(168, 85, 247, 0.2)', // Purple
                        borderColor: '#a855f7',
                        pointBackgroundColor: '#a855f7'
                    }, {
                        label: 'SPHINCS+ (Hash)',
                        data: [30, 30, 90, 10, 80], // Slow, Tiny keys, Huge sigs, Easy impl
                        backgroundColor: 'rgba(249, 115, 22, 0.2)', // Orange
                        borderColor: '#f97316',
                        pointBackgroundColor: '#f97316'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    elements: { line: { borderWidth: 3 } },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                title: (items) => {
                                    const label = items[0].chart.data.labels[items[0].dataIndex];
                                    return Array.isArray(label) ? label.join(' ') : label;
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: { display: false },
                            suggestedMin: 0,
                            suggestedMax: 100,
                            ticks: { display: false } // Hide numbers for cleaner look
                        }
                    }
                }
            });

            // 3. Bar Chart (Data Bloat)
            const ctxBar = document.getElementById('barChart').getContext('2d');
            new Chart(ctxBar, {
                type: 'bar',
                data: {
                    // Wrap labels that are too long
                    labels: ['ECDSA (Current)', 'Falcon-512', 'Dilithium2', 'SPHINCS+'],
                    datasets: [{
                        label: 'Signature Size (Bytes)',
                        data: [64, 666, 2420, 17088],
                        backgroundColor: [
                            '#ef4444', // Red (Small but insecure)
                            '#a855f7', // Purple
                            '#14b8a6', // Teal
                            '#f97316'  // Orange
                        ]
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    responsive: true,
                    indexAxis: 'y', // Horizontal bar chart
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: (items) => items[0].label
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'logarithmic',
                            title: { display: true, text: 'Bytes (Log Scale)' }
                        }
                    }
                }
            });

            // Populate Reference Table
            populateTable();
        });

        // --- Interactive Logic ---

        function updateAlgoInfo(algo) {
            const verdictBox = document.getElementById('algo-verdict');
            let html = '';

            if (algo === 'dilithium') {
                html = `<strong class="block text-teal-800 mb-1">Verdict: Recommended for MSP</strong>
                        <p class="text-slate-700">CRYSTALS-Dilithium offers the best balance of security and performance. Its lack of floating-point arithmetic makes it safer to implement on diverse hardware found in Fabric networks. It is the primary candidate for replacing ECDSA in the Membership Service Provider (MSP).</p>`;
            } else if (algo === 'falcon') {
                html = `<strong class="block text-purple-800 mb-1">Verdict: High-Performance Specialist</strong>
                        <p class="text-slate-700">Falcon is ideal for the transaction validation phase due to its incredibly fast verification speed and smaller artifacts. However, it requires complex floating-point units, which might be risky for some consensus nodes. Good for "Orderer" nodes.</p>`;
            } else if (algo === 'sphincs') {
                html = `<strong class="block text-orange-800 mb-1">Verdict: Long-Term Backup</strong>
                        <p class="text-slate-700">SPHINCS+ is too slow and produces signatures too large (approx 17KB) for high-frequency blockchain transactions. It is best reserved for infrequent, high-security actions like Root CA key rotation.</p>`;
            }
            verdictBox.innerHTML = html;
        }

        function showArchDetail(part) {
            const title = document.getElementById('detail-title');
            const text = document.getElementById('detail-text');
            const blocks = document.querySelectorAll('.interactive-block');
            
            // Reset styles
            blocks.forEach(b => b.classList.remove('block-selected'));

            // Highlight selected
            // (Simple string matching for class selection in this simplified demo)
            
            if (part === 'msp') {
                title.textContent = "Fabric CA / MSP (Upgraded)";
                title.className = "text-xl font-bold text-blue-800 mb-2";
                text.innerHTML = "<strong>The Critical Upgrade Point.</strong> The Membership Service Provider (MSP) must be updated to issue X.509 certificates using Dilithium or Falcon keys. This establishes the 'Quantum-Resistant Identity' for all nodes and users.";
            } else if (part === 'client') {
                title.textContent = "Client Application";
                title.className = "text-xl font-bold text-slate-800 mb-2";
                text.innerHTML = "Clients must use PQC SDKs to sign transaction proposals. Due to larger signature sizes, the gRPC message limits in the Fabric network config might need to be increased.";
            } else if (part === 'peer') {
                title.textContent = "Peer Node";
                title.className = "text-xl font-bold text-teal-800 mb-2";
                text.innerHTML = "Peers validate transaction signatures. Using Falcon-512 here minimizes latency. The peer also interacts with IPFS to fetch the full payload if only a hash is stored on the ledger.";
            } else if (part === 'ipfs') {
                title.textContent = "IPFS (Off-Chain Storage)";
                title.className = "text-xl font-bold text-purple-800 mb-2";
                text.innerHTML = "<strong>The Storage Fix.</strong> To prevent the ledger from growing uncontrollably due to 2KB-17KB signatures, the full PQC signature and large datasets are stored on IPFS. The blockchain only records the content-addressable hash (CID).";
            } else if (part === 'orderer') {
                title.textContent = "Orderer Node";
                title.className = "text-xl font-bold text-slate-800 mb-2";
                text.innerHTML = "Orderers run the consensus (Raft/BFT). This layer must be 'fortified' (Gomes Jr. et al.) against quantum attacks on the voting mechanism itself, ensuring honest ordering even if signatures are forged.";
            }
        }

        function populateTable() {
            const tbody = document.querySelector('#refTable tbody');
            tbody.innerHTML = references.map(ref => `
                <tr class="hover:bg-slate-50 transition">
                    <td class="px-6 py-4 font-medium text-slate-900">${ref.title}</td>
                    <td class="px-6 py-4 text-slate-500">${ref.year}</td>
                    <td class="px-6 py-4 text-slate-500"><span class="bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs">${ref.type}</span></td>
                    <td class="px-6 py-4 text-slate-600">${ref.insight}</td>
                    <td class="px-6 py-4 text-teal-600"><a href="#" class="hover:underline">View</a></td>
                </tr>
            `).join('');
        }

        function filterTable() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toUpperCase();
            const table = document.getElementById('refTable');
            const tr = table.getElementsByTagName('tr');

            for (let i = 1; i < tr.length; i++) {
                let tdTitle = tr[i].getElementsByTagName("td")[0];
                let tdInsight = tr[i].getElementsByTagName("td")[3];
                if (tdTitle || tdInsight) {
                    let txtValueTitle = tdTitle.textContent || tdTitle.innerText;
                    let txtValueInsight = tdInsight.textContent || tdInsight.innerText;
                    if (txtValueTitle.toUpperCase().indexOf(filter) > -1 || txtValueInsight.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
</body>
</html>